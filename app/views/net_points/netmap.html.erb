


<div id="map"></div>
    <script>
      var map;
      markers = [];
      markers = <%= @markers %>;

      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 55.611587, lng: 49.2968417},
          zoom: 8
        });

        
        var shape = {
          coords: [1, 1, 1, 20, 18, 20, 18, 1],
          type: 'poly'
        };
         
        for (var i = 0; i < markers.length; i++) {
          var marker = markers[i];
        var mrkrLatLng = {lat: marker[0], lng: marker[1]};

        var marker = new google.maps.Marker({
          position: mrkrLatLng,
          map: map,
          //icon: image,
          shape: shape,
          title: "Уровень сигнала " + marker[2] + "dBm"
        });
        }
      }

    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_API_KEY'] %>&callback=initMap"
    async defer></script>
    